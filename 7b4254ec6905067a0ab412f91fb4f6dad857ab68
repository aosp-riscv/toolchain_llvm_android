{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d208b7c9_f683f9e2",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1055203
      },
      "writtenOn": "2021-09-15T22:19:59Z",
      "side": 1,
      "message": "Root has a somewhat special meaning and is used for generated files (e.g. from protobuf). As long as `toolchain/llvm-project` is an implementation detail and the paths in the repo served by codesearch also start after `toolchain/llvm-project` it is safe to drop it entirely.\n\nSo I\u0027m suggesting that root should be empty.",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 37
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7437f7d_28695e75",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1058860
      },
      "writtenOn": "2021-09-15T22:22:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d208b7c9_f683f9e2",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 37
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f48818a_bed2abc7",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1058860
      },
      "writtenOn": "2021-09-15T22:22:25Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "d208b7c9_f683f9e2",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 37
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b71d914_49077951",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1055203
      },
      "writtenOn": "2021-09-15T22:19:59Z",
      "side": 1,
      "message": "This is fine to keep, but what paths do you expect to capture here?",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 14,
        "endChar": 3
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "350f047b_704e0516",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1058860
      },
      "writtenOn": "2021-09-15T22:22:25Z",
      "side": 1,
      "message": "I copied this from https://cs.android.com/android/platform/superproject/+/master:build/soong/vnames.json?q\u003dvnames.json.  Is this not required?",
      "parentUuid": "8b71d914_49077951",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 14,
        "endChar": 3
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bcf68ec_d25b8a80",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1055203
      },
      "writtenOn": "2021-09-15T22:36:37Z",
      "side": 1,
      "message": "In that case `out` is their generated output directory (which is why include it as the root). And this second regex matches all \"normal\" files. \n\nIn your case, if I\u0027m understanding correctly, everything should be matched by your first expression. It would be fine to keep because it would be a no-op but removing it improves clarity I think.",
      "parentUuid": "350f047b_704e0516",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 14,
        "endChar": 3
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f6427be_852ae928",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1058860
      },
      "writtenOn": "2021-09-15T22:52:29Z",
      "side": 1,
      "message": "There are also files from:\n- clang\u0027s builtin headers and C++ headers (with prefix prebuilts/..)\n- generated headers (with prefix out/)\n\nTo handle these sources, IIUC, we want this snippet as well - correct?\n\n(We don\u0027t want to index the former but want to get xrefs for the latter.  We also have a generated_root entry for `out` in the ingestion config in google3.)",
      "parentUuid": "3bcf68ec_d25b8a80",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 14,
        "endChar": 3
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0c3370d_26175cc2",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1055203
      },
      "writtenOn": "2021-09-15T23:16:23Z",
      "side": 1,
      "message": "If your tree is like:\n\nout\n  gen_file.c\nprebuilts\n  prebuilt.c\ntoolchain/llvm-project\n  repo_file.c\n  \nThis config bridges Kythe and its clients, so it won\u0027t impact what is indexed, just the paths kythe uses and clients use to query Kythe. If you want out and prebuilts files to be served by codesearch/kythe I think you want:\n\n[\n  {\n    \"pattern\": \"toolchain/llvm-project/(.*)\",\n    \"vname\": {\n      \"path\": \"@1@\"\n    }\n  },\n  {\n    \"pattern\": \"out/(.*)\",\n    \"vname\": {\n      \"root\": \"out\"\n      \"path\": \"@1@\"\n    }\n  },\n  {\n    \"pattern\": \"prebuilt/(.*)\",\n    \"vname\": {\n      \"root\": \"prebuilt\"\n      \"path\": \"@1@\"\n    }\n  },\n]",
      "parentUuid": "2f6427be_852ae928",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 14,
        "endChar": 3
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "510ce18a_bb1f5103",
        "filename": "kythe_vnames.json",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1055203
      },
      "writtenOn": "2021-09-15T23:17:43Z",
      "side": 1,
      "message": "To be clear, since out and prebuilts are not in the repository, they have a root. In addition to other details, that tells clients/UI to get file contents from Kythe, not the repository.",
      "parentUuid": "c0c3370d_26175cc2",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 14,
        "endChar": 3
      },
      "revId": "7b4254ec6905067a0ab412f91fb4f6dad857ab68",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}